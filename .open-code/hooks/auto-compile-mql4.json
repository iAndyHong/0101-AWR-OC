{
  "name": "自動編譯 MQL4 代碼",
  "description": "當 MQL4 文件被修改並保存時，自動執行編譯檢查，確保代碼沒有語法錯誤",
  "trigger": {
    "type": "file_save",
    "patterns": ["*.mq4", "*.mq4"]
  },
  "enabled": false,
  "actions": [
    {
      "type": "agent_execution",
      "prompt": "檢測到 MQL4 文件 {{file_path}} 已被修改並保存。請執行以下步驟：\n\n1. 使用 compile.sh 腳本編譯該文件\n2. 檢查編譯結果和日誌\n3. 如果有編譯錯誤，分析錯誤原因並提供修復建議\n4. 如果編譯成功，確認並報告\n\n請確保代碼質量和語法正確性。",
      "context": {
        "include_file": "{{file_path}}",
        "include_compile_log": true
      }
    }
  ],
  "settings": {
    "auto_approve": false,
    "run_in_background": false,
    "timeout_seconds": 120
  }
}