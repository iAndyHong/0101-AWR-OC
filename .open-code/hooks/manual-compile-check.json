{
  "name": "手動編譯檢查",
  "description": "手動觸發 MQL4 文件的編譯檢查，適用於開發過程中的快速驗證",
  "trigger": {
    "type": "manual",
    "button_text": "🔨 編譯檢查",
    "button_tooltip": "編譯當前 MQL4 文件並檢查錯誤"
  },
  "enabled": true,
  "actions": [
    {
      "type": "agent_execution", 
      "prompt": "請對當前工作區中的 MQL4 文件執行編譯檢查：\n\n## 任務清單\n\n1. **識別 MQL4 文件**\n   - 查找工作區中的 .mq4 和 .mq4 文件\n   - 優先檢查最近修改的文件\n\n2. **執行編譯**\n   - 使用 `./compile.sh` 腳本編譯文件\n   - 捕獲並分析編譯輸出\n\n3. **錯誤分析**\n   - 如果有編譯錯誤，提供詳細分析\n   - 給出具體的修復建議和代碼示例\n   - 指出可能的語法問題或邏輯錯誤\n\n4. **成功確認**\n   - 如果編譯成功，確認 .ex4 文件已生成\n   - 報告編譯統計信息（如警告數量等）\n\n5. **建議後續步驟**\n   - 根據編譯結果提供下一步建議\n   - 如需要，建議進行測試或部署\n\n請確保提供清晰、可操作的反饋。",
      "context": {
        "include_workspace_files": true,
        "file_patterns": ["*.mq4", "*.mq4", "compile.log", "*.log"]
      }
    }
  ],
  "settings": {
    "auto_approve": false,
    "run_in_background": false,
    "timeout_seconds": 120,
    "show_in_sidebar": true
  }
}