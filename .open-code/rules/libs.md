# 個人代碼庫 (Libs) 使用與版本管理規範

所有共用模組位於工作區根目錄的 `Libs/` 資料夾。本專案採用「物理版本隔離」策略，以確保新舊版本 EA 的向下相容性。

## 1. 版本隔離原則 (Version Isolation)
當主程式 (EA) 進行大版本升級（如從 Grids 2.0 升級至 Grids 2.1）時，必須對 `Libs` 下引用的所有類別與文件進行副本備份：

- **副本命名**: 統一在原檔名後加上 `_v[版本號]` 後綴。
  - 範例：`CEACore.mqh` -> `CEACore_v2.1.mqh`
- **同步備份對象**:
  - 所有類別定義檔 (`.mqh`)。
  - 所有邏輯說明文件 (`.md`, 如 `Logic.md` -> `Logic_v2.1.md`)。
- **引用隔離**: 新版本的 EA 必須明確引用帶有對應版本後綴的檔案，嚴禁引用不帶版本的「原始檔」。
  - 正確：`#include "../Libs/EACore/CEACore_v2.1.mqh"`
  - 錯誤：`#include "../Libs/EACore/CEACore.mqh"`

## 2. 引用與擴充
- **優先使用現有版本**: 開發新功能前，先檢查 `Libs/` 是否已有對應當前 EA 版本的副本。
- **物理隔離優點**: 
  - 修改 v2.1 的類別庫時，絕對不會影響到還在使用 v2.0 的舊 EA 編譯。
  - 確保了開發過程中的「安全重構」。

## 3. 核心可用模組 (應保持各版本副本同步)
- **HedgeClose**: 對沖平倉模組。
- **ProfitTrailingStop**: 獲利回跌停利模組。
- **TradeArrowManager**: 交易箭頭管理。
- **RecoveryProfit**: 獲利通訊同步模組。
- **UI**: 圖表面板顯示管理。

---
*Andy 提醒：維護多版本副本雖然會增加檔案數量，但這是保證 EA 穩定運作、不因共用庫改動而產生崩潰的最穩健做法。*
